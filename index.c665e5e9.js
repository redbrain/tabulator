!function(){var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function n(r){return r&&r.__esModule?r.default:r}var t,e,o,a,u,i,c,f,l,s,v,h,p,d="object"==typeof r&&r&&r.Object===Object&&r,g=h=d,y="object"==typeof self&&self&&self.Object===Object&&self,m=g||y||Function("return this")(),b=s=(v=m).Symbol,_=Object.prototype,j=_.hasOwnProperty,w=_.toString,O=b?b.toStringTag:void 0;p=function(r){var n=j.call(r,O),t=r[O];try{r[O]=void 0;var e=!0}catch(r){}var o=w.call(r);return e&&(n?r[O]=t:delete r[O]),o};var k=Object.prototype.toString;var x=p,A=function(r){return k.call(r)},M=s?s.toStringTag:void 0;var F;var B=l=function(r){return null==r?void 0===r?"[object Undefined]":"[object Null]":M&&M in Object(r)?x(r):A(r)},E=F=function(r){var n=typeof r;return null!=r&&("object"==n||"function"==n)};f=function(r){if(!E(r))return!1;var n=B(r);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n};var z,P,R=v["__core-js_shared__"],S=(P=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||""))?"Symbol(src)_1."+P:"";z=function(r){return!!S&&S in r};var N,C=Function.prototype.toString;var T=f,I=z,D=F,L=N=function(r){if(null!=r){try{return C.call(r)}catch(r){}try{return r+""}catch(r){}}return""},$=/^\[object .+?Constructor\]$/,K=Function.prototype,U=Object.prototype,W=K.toString,q=U.hasOwnProperty,V=RegExp("^"+W.call(q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var H=function(r){return!(!D(r)||I(r))&&(T(r)?V:$).test(L(r))},X=function(r,n){return null==r?void 0:r[n]};var Z=i=(c=function(r,n){var t=X(r,n);return H(t)?t:void 0})(Object,"create");u=function(){this.__data__=Z?Z(null):{},this.size=0};var G;G=function(r){var n=this.has(r)&&delete this.__data__[r];return this.size-=n?1:0,n};var Y,J=i,Q=Object.prototype.hasOwnProperty;Y=function(r){var n=this.__data__;if(J){var t=n[r];return"__lodash_hash_undefined__"===t?void 0:t}return Q.call(n,r)?n[r]:void 0};var rr=i,nr=Object.prototype.hasOwnProperty;var tr=i;var er=u,or=G,ar=Y,ur=function(r){var n=this.__data__;return rr?void 0!==n[r]:nr.call(n,r)},ir=function(r,n){var t=this.__data__;return this.size+=this.has(r)?0:1,t[r]=tr&&void 0===n?"__lodash_hash_undefined__":n,this};function cr(r){var n=-1,t=null==r?0:r.length;for(this.clear();++n<t;){var e=r[n];this.set(e[0],e[1])}}cr.prototype.clear=er,cr.prototype.delete=or,cr.prototype.get=ar,cr.prototype.has=ur,cr.prototype.set=ir,a=cr;var fr,lr;lr=function(){this.__data__=[],this.size=0};var sr,vr;var hr=vr=function(r,n){return r===n||r!=r&&n!=n};var pr=sr=function(r,n){for(var t=r.length;t--;)if(hr(r[t][0],n))return t;return-1},dr=Array.prototype.splice;var gr=sr;var yr=sr;var mr=sr;var br=lr,_r=function(r){var n=this.__data__,t=pr(n,r);return!(t<0)&&(t==n.length-1?n.pop():dr.call(n,t,1),--this.size,!0)},jr=function(r){var n=this.__data__,t=gr(n,r);return t<0?void 0:n[t][1]},wr=function(r){return yr(this.__data__,r)>-1},Or=function(r,n){var t=this.__data__,e=mr(t,r);return e<0?(++this.size,t.push([r,n])):t[e][1]=n,this};function kr(r){var n=-1,t=null==r?0:r.length;for(this.clear();++n<t;){var e=r[n];this.set(e[0],e[1])}}kr.prototype.clear=br,kr.prototype.delete=_r,kr.prototype.get=jr,kr.prototype.has=wr,kr.prototype.set=Or,fr=kr;var xr,Ar=c(v,"Map"),Mr=a,Fr=fr,Br=xr=Ar;var Er;var zr=function(r){var n=typeof r;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r};var Pr=Er=function(r,n){var t=r.__data__;return zr(n)?t["string"==typeof n?"string":"hash"]:t.map};var Rr=Er;var Sr=Er;var Nr=Er;var Cr=function(){this.size=0,this.__data__={hash:new Mr,map:new(Br||Fr),string:new Mr}},Tr=function(r){var n=Pr(this,r).delete(r);return this.size-=n?1:0,n},Ir=function(r){return Rr(this,r).get(r)},Dr=function(r){return Sr(this,r).has(r)},Lr=function(r,n){var t=Nr(this,r),e=t.size;return t.set(r,n),this.size+=t.size==e?0:1,this};function $r(r){var n=-1,t=null==r?0:r.length;for(this.clear();++n<t;){var e=r[n];this.set(e[0],e[1])}}$r.prototype.clear=Cr,$r.prototype.delete=Tr,$r.prototype.get=Ir,$r.prototype.has=Dr,$r.prototype.set=Lr;var Kr=o=$r,Ur=function(r){return this.__data__.set(r,"__lodash_hash_undefined__"),this},Wr=function(r){return this.__data__.has(r)};function qr(r){var n=-1,t=null==r?0:r.length;for(this.__data__=new Kr;++n<t;)this.add(r[n])}qr.prototype.add=qr.prototype.push=Ur,qr.prototype.has=Wr;var Vr;var Hr=function(r,n,t,e){for(var o=r.length,a=t+(e?1:-1);e?a--:++a<o;)if(n(r[a],a,r))return a;return-1},Xr=function(r){return r!=r},Zr=function(r,n,t){for(var e=t-1,o=r.length;++e<o;)if(r[e]===n)return e;return-1};var Gr=function(r,n,t){return n==n?Zr(r,n,t):Hr(r,Xr,t)};var Yr;var Jr;var Qr;var rn;var nn=e=qr,tn=Vr=function(r,n){return!!(null==r?0:r.length)&&Gr(r,n,0)>-1},en=Yr=function(r,n,t){for(var e=-1,o=null==r?0:r.length;++e<o;)if(t(n,r[e]))return!0;return!1},on=Jr=function(r,n){for(var t=-1,e=null==r?0:r.length,o=Array(e);++t<e;)o[t]=n(r[t],t,r);return o},an=Qr=function(r){return function(n){return r(n)}},un=rn=function(r,n){return r.has(n)};t=function(r,n,t,e){var o=-1,a=tn,u=!0,i=r.length,c=[],f=n.length;if(!i)return c;t&&(n=on(n,an(t))),e?(a=en,u=!1):n.length>=200&&(a=un,u=!1,n=new nn(n));r:for(;++o<i;){var l=r[o],s=null==t?l:t(l);if(l=e||0!==l?l:0,u&&s==s){for(var v=f;v--;)if(n[v]===s)continue r;c.push(l)}else a(n,s,e)||c.push(l)}return c};var cn,fn;fn=function(r,n){for(var t=-1,e=n.length,o=r.length;++t<e;)r[o+t]=n[t];return r};var ln,sn;var vn=l,hn=sn=function(r){return null!=r&&"object"==typeof r};var pn=function(r){return hn(r)&&"[object Arguments]"==vn(r)},dn=sn,gn=Object.prototype,yn=gn.hasOwnProperty,mn=gn.propertyIsEnumerable;ln=pn(function(){return arguments}())?pn:function(r){return dn(r)&&yn.call(r,"callee")&&!mn.call(r,"callee")};var bn,_n=Array.isArray,jn=ln,wn=bn=_n,On=s?s.isConcatSpreadable:void 0;var kn=fn,xn=function(r){return wn(r)||jn(r)||!!(On&&r&&r[On])};cn=function r(n,t,e,o,a){var u=-1,i=n.length;for(e||(e=xn),a||(a=[]);++u<i;){var c=n[u];t>0&&e(c)?t>1?r(c,t-1,e,o,a):kn(a,c):o||(a[a.length]=c)}return a};var An,Mn;Mn=function(r){return r};var Fn;var Bn=function(r,n,t){switch(t.length){case 0:return r.call(n);case 1:return r.call(n,t[0]);case 2:return r.call(n,t[0],t[1]);case 3:return r.call(n,t[0],t[1],t[2])}return r.apply(n,t)},En=Math.max;Fn=function(r,n,t){return n=En(void 0===n?r.length-1:n,0),function(){for(var e=arguments,o=-1,a=En(e.length-n,0),u=Array(a);++o<a;)u[o]=e[n+o];o=-1;for(var i=Array(n+1);++o<n;)i[o]=e[o];return i[n]=t(u),Bn(r,this,i)}};var zn,Pn;Pn=function(r){return function(){return r}};var Rn,Sn=c,Nn=function(){try{var r=Sn(Object,"defineProperty");return r({},"",{}),r}catch(r){}}(),Cn=Pn,Tn=Rn=Nn;zn=Tn?function(r,n){return Tn(r,"toString",{configurable:!0,enumerable:!1,value:Cn(n),writable:!0})}:Mn;var In=Date.now;var Dn=function(r){var n=0,t=0;return function(){var e=In(),o=16-(e-t);if(t=e,o>0){if(++n>=800)return arguments[0]}else n=0;return r.apply(void 0,arguments)}}(zn),Ln=Mn,$n=Fn,Kn=Dn;var Un,Wn,qn;var Vn=f,Hn=qn=function(r){return"number"==typeof r&&r>-1&&r%1==0&&r<=9007199254740991};var Xn=Wn=function(r){return null!=r&&Hn(r.length)&&!Vn(r)},Zn=sn;var Gn,Yn=t,Jn=cn,Qn=Un=function(r){return Zn(r)&&Xn(r)},rt=n((An=function(r,n){return Kn($n(r,n,Ln),r+"")})((function(r,n){return Qn(r)?Yn(r,Jn(n,1,Qn,!0)):[]})));Gn=function(r,n){for(var t=-1,e=null==r?0:r.length;++t<e;)if(!n(r[t],t,r))return!1;return!0};var nt,tt,et;et=function(r){return function(n,t,e){for(var o=-1,a=Object(n),u=e(n),i=u.length;i--;){var c=u[r?i:++o];if(!1===t(a[c],c,a))break}return n}}();var ot,at,ut;ut=function(r,n){for(var t=-1,e=Array(r);++t<r;)e[t]=n(t);return e};var it;it=function(){return!1};var ct,ft=function(){var r=this,n={exports:this},t=v,e=it,o="object"==typeof r&&r&&!r.nodeType&&r,a=o&&"object"==typeof n&&n&&!n.nodeType&&n,u=a&&a.exports===o?t.Buffer:void 0,i=(u?u.isBuffer:void 0)||e;return n.exports=i,n.exports}.call({}),lt=/^(?:0|[1-9]\d*)$/;ct=function(r,n){var t=typeof r;return!!(n=null==n?9007199254740991:n)&&("number"==t||"symbol"!=t&&lt.test(r))&&r>-1&&r%1==0&&r<n};var st,vt,ht=l,pt=qn,dt=sn,gt={};gt["[object Float32Array]"]=gt["[object Float64Array]"]=gt["[object Int8Array]"]=gt["[object Int16Array]"]=gt["[object Int32Array]"]=gt["[object Uint8Array]"]=gt["[object Uint8ClampedArray]"]=gt["[object Uint16Array]"]=gt["[object Uint32Array]"]=!0,gt["[object Arguments]"]=gt["[object Array]"]=gt["[object ArrayBuffer]"]=gt["[object Boolean]"]=gt["[object DataView]"]=gt["[object Date]"]=gt["[object Error]"]=gt["[object Function]"]=gt["[object Map]"]=gt["[object Number]"]=gt["[object Object]"]=gt["[object RegExp]"]=gt["[object Set]"]=gt["[object String]"]=gt["[object WeakMap]"]=!1,vt=function(r){return dt(r)&&pt(r.length)&&!!gt[ht(r)]};var yt=function(){var r=this,n={exports:this},t=h,e="object"==typeof r&&r&&!r.nodeType&&r,o=e&&"object"==typeof n&&n&&!n.nodeType&&n,a=o&&o.exports===e&&t.process,u=function(){try{var r=o&&o.require&&o.require("util").types;return r||a&&a.binding&&a.binding("util")}catch(r){}}();return n.exports=u,n.exports}.call({}),mt=vt,bt=Qr,_t=yt&&yt.isTypedArray,jt=_t?bt(_t):mt,wt=ut,Ot=ln,kt=bn,xt=ft,At=ct,Mt=st=jt,Ft=Object.prototype.hasOwnProperty;at=function(r,n){var t=kt(r),e=!t&&Ot(r),o=!t&&!e&&xt(r),a=!t&&!e&&!o&&Mt(r),u=t||e||o||a,i=u?wt(r.length,String):[],c=i.length;for(var f in r)!n&&!Ft.call(r,f)||u&&("length"==f||o&&("offset"==f||"parent"==f)||a&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||At(f,c))||i.push(f);return i};var Bt,Et=Object.prototype;Bt=function(r){var n=r&&r.constructor;return r===("function"==typeof n&&n.prototype||Et)};var zt=function(r,n){return function(t){return r(n(t))}}(Object.keys,Object),Pt=Bt,Rt=zt,St=Object.prototype.hasOwnProperty;var Nt=at,Ct=function(r){if(!Pt(r))return Rt(r);var n=[];for(var t in Object(r))St.call(r,t)&&"constructor"!=t&&n.push(t);return n},Tt=Wn;var It=et,Dt=ot=function(r){return Tt(r)?Nt(r):Ct(r)};var Lt=Wn;var $t=tt=function(r,n){return function(t,e){if(null==t)return t;if(!Lt(t))return r(t,e);for(var o=t.length,a=n?o:-1,u=Object(t);(n?a--:++a<o)&&!1!==e(u[a],a,u););return t}}((function(r,n){return r&&It(r,n,Dt)}));nt=function(r,n){var t=!0;return $t(r,(function(r,e,o){return t=!!n(r,e,o)})),t};var Kt,Ut,Wt,qt=fr;var Vt=fr,Ht=xr,Xt=o;var Zt=fr,Gt=function(){this.__data__=new qt,this.size=0},Yt=function(r){var n=this.__data__,t=n.delete(r);return this.size=n.size,t},Jt=function(r){return this.__data__.get(r)},Qt=function(r){return this.__data__.has(r)},re=function(r,n){var t=this.__data__;if(t instanceof Vt){var e=t.__data__;if(!Ht||e.length<199)return e.push([r,n]),this.size=++t.size,this;t=this.__data__=new Xt(e)}return t.set(r,n),this.size=t.size,this};function ne(r){var n=this.__data__=new Zt(r);this.size=n.size}ne.prototype.clear=Gt,ne.prototype.delete=Yt,ne.prototype.get=Jt,ne.prototype.has=Qt,ne.prototype.set=re,Wt=ne;var te,ee;var oe=e,ae=function(r,n){for(var t=-1,e=null==r?0:r.length;++t<e;)if(n(r[t],t,r))return!0;return!1},ue=rn;ee=function(r,n,t,e,o,a){var u=1&t,i=r.length,c=n.length;if(i!=c&&!(u&&c>i))return!1;var f=a.get(r),l=a.get(n);if(f&&l)return f==n&&l==r;var s=-1,v=!0,h=2&t?new oe:void 0;for(a.set(r,n),a.set(n,r);++s<i;){var p=r[s],d=n[s];if(e)var g=u?e(d,p,s,n,r,a):e(p,d,s,r,n,a);if(void 0!==g){if(g)continue;v=!1;break}if(h){if(!ae(n,(function(r,n){if(!ue(h,n)&&(p===r||o(p,r,t,e,a)))return h.push(n)}))){v=!1;break}}else if(p!==d&&!o(p,d,t,e,a)){v=!1;break}}return a.delete(r),a.delete(n),v};var ie,ce;var fe;var le=v.Uint8Array,se=vr,ve=ee,he=ce=function(r){var n=-1,t=Array(r.size);return r.forEach((function(r,e){t[++n]=[e,r]})),t},pe=fe=function(r){var n=-1,t=Array(r.size);return r.forEach((function(r){t[++n]=r})),t},de=s?s.prototype:void 0,ge=de?de.valueOf:void 0;ie=function(r,n,t,e,o,a,u){switch(t){case"[object DataView]":if(r.byteLength!=n.byteLength||r.byteOffset!=n.byteOffset)return!1;r=r.buffer,n=n.buffer;case"[object ArrayBuffer]":return!(r.byteLength!=n.byteLength||!a(new le(r),new le(n)));case"[object Boolean]":case"[object Date]":case"[object Number]":return se(+r,+n);case"[object Error]":return r.name==n.name&&r.message==n.message;case"[object RegExp]":case"[object String]":return r==n+"";case"[object Map]":var i=he;case"[object Set]":var c=1&e;if(i||(i=pe),r.size!=n.size&&!c)return!1;var f=u.get(r);if(f)return f==n;e|=2,u.set(r,n);var l=ve(i(r),i(n),e,o,a,u);return u.delete(r),l;case"[object Symbol]":if(ge)return ge.call(r)==ge.call(n)}return!1};var ye,me,be=fn,_e=bn;me=function(r,n,t){var e=n(r);return _e(r)?e:be(e,t(r))};var je=function(r,n){for(var t=-1,e=null==r?0:r.length,o=0,a=[];++t<e;){var u=r[t];n(u,t,r)&&(a[o++]=u)}return a},we=function(){return[]},Oe=Object.prototype.propertyIsEnumerable,ke=Object.getOwnPropertySymbols,xe=me,Ae=ke?function(r){return null==r?[]:(r=Object(r),je(ke(r),(function(n){return Oe.call(r,n)})))}:we,Me=ot;var Fe=function(r){return xe(r,Me,Ae)},Be=Object.prototype.hasOwnProperty;ye=function(r,n,t,e,o,a){var u=1&t,i=Fe(r),c=i.length;if(c!=Fe(n).length&&!u)return!1;for(var f=c;f--;){var l=i[f];if(!(u?l in n:Be.call(n,l)))return!1}var s=a.get(r),v=a.get(n);if(s&&v)return s==n&&v==r;var h=!0;a.set(r,n),a.set(n,r);for(var p=u;++f<c;){var d=r[l=i[f]],g=n[l];if(e)var y=u?e(g,d,l,n,r,a):e(d,g,l,r,n,a);if(!(void 0===y?d===g||o(d,g,t,e,a):y)){h=!1;break}p||(p="constructor"==l)}if(h&&!p){var m=r.constructor,b=n.constructor;m==b||!("constructor"in r)||!("constructor"in n)||"function"==typeof m&&m instanceof m&&"function"==typeof b&&b instanceof b||(h=!1)}return a.delete(r),a.delete(n),h};var Ee,ze,Pe=c(v,"DataView"),Re=xr,Se=c(v,"Promise"),Ne=ze=c(v,"Set"),Ce=c(v,"WeakMap"),Te=l,Ie=N,De="[object Map]",Le="[object Promise]",$e="[object Set]",Ke="[object WeakMap]",Ue="[object DataView]",We=Ie(Pe),qe=Ie(Re),Ve=Ie(Se),He=Ie(Ne),Xe=Ie(Ce),Ze=Te;(Pe&&Ze(new Pe(new ArrayBuffer(1)))!=Ue||Re&&Ze(new Re)!=De||Se&&Ze(Se.resolve())!=Le||Ne&&Ze(new Ne)!=$e||Ce&&Ze(new Ce)!=Ke)&&(Ze=function(r){var n=Te(r),t="[object Object]"==n?r.constructor:void 0,e=t?Ie(t):"";if(e)switch(e){case We:return Ue;case qe:return De;case Ve:return Le;case He:return $e;case Xe:return Ke}return n});var Ge=Wt,Ye=ee,Je=ie,Qe=ye,ro=Ee=Ze,no=bn,to=ft,eo=st,oo="[object Arguments]",ao="[object Array]",uo="[object Object]",io=Object.prototype.hasOwnProperty;var co=function(r,n,t,e,o,a){var u=no(r),i=no(n),c=u?ao:ro(r),f=i?ao:ro(n),l=(c=c==oo?uo:c)==uo,s=(f=f==oo?uo:f)==uo,v=c==f;if(v&&to(r)){if(!to(n))return!1;u=!0,l=!1}if(v&&!l)return a||(a=new Ge),u||eo(r)?Ye(r,n,t,e,o,a):Je(r,n,c,t,e,o,a);if(!(1&t)){var h=l&&io.call(r,"__wrapped__"),p=s&&io.call(n,"__wrapped__");if(h||p){var d=h?r.value():r,g=p?n.value():n;return a||(a=new Ge),o(d,g,t,e,a)}}return!!v&&(a||(a=new Ge),Qe(r,n,t,e,o,a))},fo=sn;var lo=Wt,so=te=function r(n,t,e,o,a){return n===t||(null==n||null==t||!fo(n)&&!fo(t)?n!=n&&t!=t:co(n,t,e,o,r,a))};var vo,ho=F;var po=vo=function(r){return r==r&&!ho(r)},go=ot;var yo;var mo=function(r,n,t,e){var o=t.length,a=o,u=!e;if(null==r)return!a;for(r=Object(r);o--;){var i=t[o];if(u&&i[2]?i[1]!==r[i[0]]:!(i[0]in r))return!1}for(;++o<a;){var c=(i=t[o])[0],f=r[c],l=i[1];if(u&&i[2]){if(void 0===f&&!(c in r))return!1}else{var s=new lo;if(e)var v=e(f,l,c,r,n,s);if(!(void 0===v?so(l,f,3,e,s):v))return!1}}return!0},bo=function(r){for(var n=go(r),t=n.length;t--;){var e=n[t],o=r[e];n[t]=[e,o,po(o)]}return n},_o=yo=function(r,n){return function(t){return null!=t&&(t[r]===n&&(void 0!==n||r in Object(t)))}};Ut=function(r){var n=bo(r);return 1==n.length&&n[0][2]?_o(n[0][0],n[0][1]):function(t){return t===r||mo(t,r,n)}};var jo,wo,Oo,ko,xo=l,Ao=sn;var Mo=bn,Fo=ko=function(r){return"symbol"==typeof r||Ao(r)&&"[object Symbol]"==xo(r)},Bo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Eo=/^\w*$/;Oo=function(r,n){if(Mo(r))return!1;var t=typeof r;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=r&&!Fo(r))||(Eo.test(r)||!Bo.test(r)||null!=n&&r in Object(n))};var zo,Po=o;function Ro(r,n){if("function"!=typeof r||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var t=function(){var e=arguments,o=n?n.apply(this,e):e[0],a=t.cache;if(a.has(o))return a.get(o);var u=r.apply(this,e);return t.cache=a.set(o,u)||a,u};return t.cache=new(Ro.Cache||Po),t}Ro.Cache=Po;var So=Ro;var No=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Co=/\\(\\)?/g;zo=function(r){var n=So(r,(function(r){return 500===t.size&&t.clear(),r})),t=n.cache;return n}((function(r){var n=[];return 46===r.charCodeAt(0)&&n.push(""),r.replace(No,(function(r,t,e,o){n.push(e?o.replace(Co,"$1"):t||r)})),n}));var To=Jr,Io=bn,Do=ko,Lo=s?s.prototype:void 0,$o=Lo?Lo.toString:void 0;var Ko=function r(n){if("string"==typeof n)return n;if(Io(n))return To(n,r)+"";if(Do(n))return $o?$o.call(n):"";var t=n+"";return"0"==t&&1/n==-Infinity?"-0":t};var Uo=bn,Wo=Oo,qo=zo,Vo=function(r){return null==r?"":Ko(r)};var Ho,Xo=ko;var Zo=wo=function(r,n){return Uo(r)?r:Wo(r,n)?[r]:qo(Vo(r))},Go=Ho=function(r){if("string"==typeof r||Xo(r))return r;var n=r+"";return"0"==n&&1/r==-Infinity?"-0":n};var Yo=jo=function(r,n){for(var t=0,e=(n=Zo(n,r)).length;null!=r&&t<e;)r=r[Go(n[t++])];return t&&t==e?r:void 0};var Jo=wo,Qo=ln,ra=bn,na=ct,ta=qn,ea=Ho;var oa=function(r,n){return null!=r&&n in Object(r)},aa=function(r,n,t){for(var e=-1,o=(n=Jo(n,r)).length,a=!1;++e<o;){var u=ea(n[e]);if(!(a=null!=r&&t(r,u)))break;r=r[u]}return a||++e!=o?a:!!(o=null==r?0:r.length)&&ta(o)&&na(u,o)&&(ra(r)||Qo(r))};var ua=te,ia=function(r,n,t){var e=null==r?void 0:Yo(r,n);return void 0===e?t:e},ca=function(r,n){return null!=r&&aa(r,n,oa)},fa=Oo,la=vo,sa=yo,va=Ho;var ha=jo;var pa=function(r){return function(n){return null==n?void 0:n[r]}},da=function(r){return function(n){return ha(n,r)}},ga=Oo,ya=Ho;var ma=Ut,ba=function(r,n){return fa(r)&&la(n)?sa(va(r),n):function(t){var e=ia(t,r);return void 0===e&&e===n?ca(t,r):ua(n,e,3)}},_a=Mn,ja=bn,wa=function(r){return ga(r)?pa(ya(r)):da(r)};var Oa,ka=vr,xa=Wn,Aa=ct,Ma=F;var Fa=Gn,Ba=nt,Ea=Kt=function(r){return"function"==typeof r?r:null==r?_a:"object"==typeof r?ja(r)?ba(r[0],r[1]):ma(r):wa(r)},za=bn,Pa=Oa=function(r,n,t){if(!Ma(t))return!1;var e=typeof n;return!!("number"==e?xa(t)&&Aa(n,t.length):"string"==e&&n in t)&&ka(t[n],r)};var Ra=n((function(r,n,t){var e=za(r)?Fa:Ba;return t&&Pa(r,n,t)&&(n=void 0),e(r,Ea(n,3))})),Sa=cn;var Na=n((function(r){return(null==r?0:r.length)?Sa(r,1):[]})),Ca=e,Ta=Vr,Ia=Yr,Da=Jr,La=Qr,$a=rn,Ka=Math.min;var Ua=Un;var Wa=Jr,qa=function(r,n,t){for(var e=t?Ia:Ta,o=r[0].length,a=r.length,u=a,i=Array(a),c=1/0,f=[];u--;){var l=r[u];u&&n&&(l=Da(l,La(n))),c=Ka(l.length,c),i[u]=!t&&(n||o>=120&&l.length>=120)?new Ca(u&&l):void 0}l=r[0];var s=-1,v=i[0];r:for(;++s<o&&f.length<c;){var h=l[s],p=n?n(h):h;if(h=t||0!==h?h:0,!(v?$a(v,p):e(f,p,t))){for(u=a;--u;){var d=i[u];if(!(d?$a(d,p):e(r[u],p,t)))continue r}v&&v.push(p),f.push(h)}}return f},Va=function(r){return Ua(r)?r:[]},Ha=n(An((function(r){var n=Wa(r,Va);return n.length&&n[0]===r[0]?qa(n):[]}))),Xa=te;var Za=n((function(r,n){return Xa(r,n)}));var Ga=ze,Ya=function(){},Ja=Ga&&1/fe(new Ga([,-0]))[1]==1/0?function(r){return new Ga(r)}:Ya,Qa=e,ru=Vr,nu=Yr,tu=rn,eu=Ja,ou=fe;var au=function(r,n,t){var e=-1,o=ru,a=r.length,u=!0,i=[],c=i;if(t)u=!1,o=nu;else if(a>=200){var f=n?null:eu(r);if(f)return ou(f);u=!1,o=tu,c=new Qa}else c=n?[]:i;r:for(;++e<a;){var l=r[e],s=n?n(l):l;if(l=t||0!==l?l:0,u&&s==s){for(var v=c.length;v--;)if(c[v]===s)continue r;n&&c.push(s),i.push(l)}else o(c,s,t)||(c!==i&&c.push(s),i.push(l))}return i};var uu,iu=n((function(r){return r&&r.length?au(r):[]})),cu=Rn;var fu=uu=function(r,n,t){"__proto__"==n&&cu?cu(r,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):r[n]=t},lu=vr,su=Object.prototype.hasOwnProperty;var vu=function(r,n,t){var e=r[n];su.call(r,n)&&lu(e,t)&&(void 0!==t||n in r)||fu(r,n,t)},hu=function(r,n,t){for(var e=-1,o=r.length,a=n.length,u={};++e<o;){var i=e<a?n[e]:void 0;t(u,r[e],i)}return u};var pu=n((function(r,n){return hu(r||[],n||[],vu)}));var du=tt;var gu=function(r,n,t,e){for(var o=-1,a=null==r?0:r.length;++o<a;){var u=r[o];n(e,u,t(u),r)}return e},yu=function(r,n,t,e){return du(r,(function(r,o,a){n(e,r,t(r),a)})),e},mu=Kt,bu=bn;var _u=uu,ju=function(r,n){return function(t,e){var o=bu(t)?gu:yu,a=n?n():{};return o(t,r,mu(e,2),a)}},wu=Object.prototype.hasOwnProperty,Ou=n(ju((function(r,n,t){wu.call(r,t)?r[t].push(n):_u(r,t,[n])}))),ku=tt,xu=Wn;var Au=ko;var Mu=function(r,n){if(r!==n){var t=void 0!==r,e=null===r,o=r==r,a=Au(r),u=void 0!==n,i=null===n,c=n==n,f=Au(n);if(!i&&!f&&!a&&r>n||a&&u&&c&&!i&&!f||e&&u&&c||!t&&c||!o)return 1;if(!e&&!a&&!f&&r<n||f&&t&&o&&!e&&!a||i&&t&&o||!u&&o||!c)return-1}return 0};var Fu=Jr,Bu=jo,Eu=Kt,zu=function(r,n){var t=-1,e=xu(r)?Array(r.length):[];return ku(r,(function(r,o,a){e[++t]=n(r,o,a)})),e},Pu=function(r,n){var t=r.length;for(r.sort(n);t--;)r[t]=r[t].value;return r},Ru=Qr,Su=function(r,n,t){for(var e=-1,o=r.criteria,a=n.criteria,u=o.length,i=t.length;++e<u;){var c=Mu(o[e],a[e]);if(c)return e>=i?c:c*("desc"==t[e]?-1:1)}return r.index-n.index},Nu=Mn,Cu=bn;var Tu=cn,Iu=function(r,n,t){n=n.length?Fu(n,(function(r){return Cu(r)?function(n){return Bu(n,1===r.length?r[0]:r)}:r})):[Nu];var e=-1;n=Fu(n,Ru(Eu));var o=zu(r,(function(r,t,o){return{criteria:Fu(n,(function(n){return n(r)})),index:++e,value:r}}));return Pu(o,(function(r,n){return Su(r,n,t)}))},Du=Oa,Lu=n(An((function(r,n){if(null==r)return[];var t=n.length;return t>1&&Du(r,n[0],n[1])?n=[]:t>2&&Du(n[0],n[1],n[2])&&(n=[n[0]]),Iu(r,Tu(n,1),[])}))),$u=Jr;var Ku=function(r,n){return $u(n,(function(n){return[n,r[n]]}))},Uu=Ee,Wu=ce,qu=function(r){var n=-1,t=Array(r.size);return r.forEach((function(r){t[++n]=[r,r]})),t};var Vu=n(function(r){return function(n){var t=Uu(n);return"[object Map]"==t?Wu(n):"[object Set]"==t?qu(n):Ku(n,r(n))}}(ot)),Hu=Math.ceil,Xu=Math.max;var Zu,Gu=/\s/;var Yu=function(r){for(var n=r.length;n--&&Gu.test(r.charAt(n)););return n},Ju=/^\s+/;var Qu=function(r){return r?r.slice(0,Yu(r)+1).replace(Ju,""):r},ri=F,ni=ko,ti=/^[-+]0x[0-9a-f]+$/i,ei=/^0b[01]+$/i,oi=/^0o[0-7]+$/i,ai=parseInt;var ui=function(r){if("number"==typeof r)return r;if(ni(r))return NaN;if(ri(r)){var n="function"==typeof r.valueOf?r.valueOf():r;r=ri(n)?n+"":n}if("string"!=typeof r)return 0===r?r:+r;r=Qu(r);var t=ei.test(r);return t||oi.test(r)?ai(r.slice(2),t?2:8):ti.test(r)?NaN:+r},ii=1/0;var ci=function(r,n,t,e){for(var o=-1,a=Xu(Hu((n-r)/(t||1)),0),u=Array(a);a--;)u[e?a:++o]=r,r+=t;return u},fi=Oa,li=Zu=function(r){return r?(r=ui(r))===ii||r===-1/0?17976931348623157e292*(r<0?-1:1):r==r?r:0:0===r?r:0};var si=n(function(r){return function(n,t,e){return e&&"number"!=typeof e&&fi(n,t,e)&&(t=e=void 0),n=li(n),void 0===t?(t=n,n=0):t=li(t),e=void 0===e?n<t?1:-1:li(e),ci(n,t,e,r)}}()),vi=Mn;var hi=Zu;var pi=ut,di=function(r){return"function"==typeof r?r:vi},gi=function(r){var n=hi(r),t=n%1;return n==n?t?n-t:n:0},yi=4294967295,mi=Math.min;var bi=n((function(r,n){if((r=gi(r))<1||r>9007199254740991)return[];var t=yi,e=mi(r,yi);n=di(n),r-=yi;for(var o=pi(e,n);++t<r;)n(t);return o}));var _i=function(r,n){for(var t,e=-1,o=r.length;++e<o;){var a=n(r[e]);void 0!==a&&(t=void 0===t?a:t+a)}return t},ji=Mn;var wi,Oi,ki=n((function(r){return r&&r.length?_i(r,ji):0}));(Oi=wi||(wi={})).Approbation="APPROBATION",Oi.Baldwin="BALDWIN",Oi.Borda="BORDA",Oi.Coombs="COOMBS",Oi.Copeland="COPELAND",Oi.FirstPastThePost="FIRST_PAST_THE_POST",Oi.Kemeny="KEMENY",Oi.InstantRunoff="INSTANT_RUNOFF",Oi.MaximalLotteries="MAXIMAL_LOTTERIES",Oi.Minimax="MINIMAX",Oi.Nanson="NANSON",Oi.RandomizedCondorcet="RANDOMIZED_CONDORCET",Oi.RankedPairs="RANKED_PAIRS",Oi.Schulze="SCHULZE",Oi.TwoRoundRunoff="TWO_ROUND_RUNOFF";
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ******************************************************************************/
var xi=function(){return(xi=Object.assign||function(r){for(var n,t=1,e=arguments.length;t<e;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o]);return r}).apply(this,arguments)};function Ai(){for(var r=0,n=0,t=arguments.length;n<t;n++)r+=arguments[n].length;var e=Array(r),o=0;for(n=0;n<t;n++)for(var a=arguments[n],u=0,i=a.length;u<i;u++,o++)e[o]=a[u];return e}var Mi,Fi=function(r,n){return Ra(r,(function(r,t){return Za(Ai(r).sort(),Ai(n[t]).sort())}))},Bi=function(r){return r.reduce((function(r,n){var t=rt(iu(n),r.usedCandidates);return{ranking:t.length?Ai(r.ranking,[t]):r.ranking,usedCandidates:Ai(r.usedCandidates,t)}}),{ranking:[],usedCandidates:[]}).ranking},Ei=function(r,n){return r.map((function(r){return r.filter((function(r){return n.includes(r)}))})).filter((function(r){return r.length}))},zi=function(r,n){return Bi(Ei(r,n))},Pi=function(r,n){return xi(xi({},r),{ranking:zi(r.ranking,n)})},Ri=function(r){return r.reduce((function(r,n){return iu(Ai(r,Na(n.ranking)))}),[])},Si=function(r,n){var t=n||Ri(r);return r.map((function(r){return Pi(r,t)}))},Ni=function(r){return pu(r,new Array(r.length).fill(0))},Ci=function(r,n,t){var e=Ni(n);return Si(r,n).forEach((function(r){r.ranking.length&&r.ranking[0].filter((function(r){return n.includes(r)})).forEach((function(n,o,a){return e[n]+=t(a)*r.weight}))})),e},Ti={type:wi.Approbation,computeFromBallots:function(r,n){return Ci(r,n,(function(){return 1}))}},Ii={type:wi.Borda,computeFromBallots:function(r,n){var t=Ni(n);return Si(r,n).forEach((function(r){var e=n.length-1;r.ranking.forEach((function(n){var o=e-(n.length-1)/2;n.forEach((function(n){t[n]+=o*r.weight})),e-=n.length}))})),t}},Di=function(r){return Lu(Ou(Vu(r),(function(r){return r[1]})),(function(r){return-r[0][1]})).map((function(r){return r.map((function(r){return r[0]}))}))},Li={type:wi.Baldwin,computeFromBallots:function(r,n){for(var t={},e=n,o=0;e.length>0;){for(var a=Ii.computeFromBallots(r,e),u=Di(a),i=u[u.length-1],c=0,f=i;c<f.length;c++){t[f[c]]=o}e=rt(e,i),o++}return t}},$i={type:wi.FirstPastThePost,computeFromBallots:function(r,n){return Ci(r,n,(function(r){return 1/r.length}))}},Ki={type:wi.Coombs,computeFromBallots:function(r,n){for(var t={},e=r.map((function(r){return{ranking:Ai(r.ranking).reverse(),weight:r.weight}})),o=n,a=0;o.length>0;){for(var u=$i.computeFromBallots(e,o),i=Di(u),c=0,f=i[0];c<f.length;c++){t[f[c]]=a}o=rt(o,i[0]),a++}return t}},Ui={type:wi.Copeland,computeFromMatrix:function(r){for(var n=r.candidates.length,t=si(n).map((function(){return si(n).map((function(){return 0}))})),e=0;e<n;e++)for(var o=0;o<n;o++)e!==o&&(t[e][o]=Math.sign(r.array[e][o]-r.array[o][e]));var a=t.map((function(r){return r.reduce((function(r,n){return r+n}),0)})),u=a.map((function(r,e){return r+t[e].reduce((function(r,n,t){return r+(n>0?a[t]:0)}),0)/(n*n)}));return pu(r.candidates,u)}},Wi={type:wi.InstantRunoff,computeFromBallots:function(r,n){var t=$i.computeFromBallots(r,n);if(n.length<=2)return t;var e=Math.min.apply(Math,Object.values(t)),o=n.filter((function(r){return t[r]>e}));return xi(xi({},t),Wi.computeFromBallots(Si(r,o),o))}},qi=function(r,n){for(var t=0,e=0;e<n.length;e+=1)for(var o=e+1;o<n.length;o+=1)t+=n[r[e]][r[o]];return t},Vi=function(r){for(var n=Ai(r),t=n.length-1;t>0&&n[t-1]>=n[t];)t-=1;if(t<=0)return!1;for(var e=n.length-1;n[e]<=n[t-1];)e-=1;var o=n[t-1];for(n[t-1]=n[e],n[e]=o,e=n.length-1;t<e;)o=n[t],n[t]=n[e],n[e]=o,t+=1,e-=1;return n},Hi={type:wi.Kemeny,computeFromMatrix:function(r){for(var n=[],t=1/0,e=si(r.candidates.length);e;){var o=qi(e,r.array);o===t?n.push(e):o<t&&(t=o,n=[e]),e=Vi(e)}var a=r.candidates.map((function(r,t){return n.map((function(r){return r.indexOf(t)})).reduce((function(r,n){return r+n}),0)}));return pu(r.candidates,a)}},Xi=function(r){for(var n=1/0,t=null,e=1;e<r[0].length;e++){var o=r[0][e];o<0&&o<n&&e<r[0].length-1&&(n=o,t=e)}return t},Zi=function(r,n,t){for(var e=1/0,o=null,a=1;a<r.length;a++)if(0!==r[a][n]&&!t.includes(a)){var u=r[a][0]/r[a][n];u<e&&(e=u,o=a)}return o},Gi=function(r,n,t){var e=r[t].map((function(e){return e/r[t][n]}));return r.map((function(r,o){return o===t?e:r.map((function(t,o){return t-r[n]*e[o]}))}))},Yi=function(r){var n,t,e,o,a,u,i,c,f=function(r,n){for(var t=r,e=Xi(t);null!==e;){var o=Zi(t,e,n);if(!o)throw Error("no row no pivot");n.push(o),t=Gi(t,e,o),e=Xi(t)}return t}((t=(n=r).length,e=Array(t).fill(0),o=Ai([0],Array(t).fill(-1),[1],e,[0,1]),a=n.map((function(r,n){return Ai([0],r.map((function(r){return r})),[0],e.map((function(r,t){return t===n?1:0})),[0,0])})),u=Ai([1],Array(t).fill(1),[0],e,[1,0]),Ai([o],a,[u])),[]);return i=f,c=r.length,Array(c).fill(null).map((function(r,n){if(0===i[0][n+1]){var t=i.findIndex((function(r){return 1===r[n+1]}));if(t>-1)return i[t][0]}return 0}))},Ji=function(r,n){var t=bi(n.length,(function(){return bi(n.length,(function(){return 0}))}));return r.forEach((function(r){var e=r.ranking.map((function(r){return r.map((function(r){return n.indexOf(r)}))})),o=si(n.length);e.forEach((function(n){o=rt(o,n),n.forEach((function(n){return o.forEach((function(e){t[n][e]+=r.weight}))}))}))})),{array:t,candidates:n}},Qi=function(r){return{array:r.array.map((function(n,t){return n.map((function(n,e){return n-r.array[e][t]}))})),candidates:r.candidates}},rc=function(r){var n,t,e,o,a,u=(t=(n=r).candidates,e=n.array,o=t.map((function(r,n){return e[n].map((function(r,n){return n})).filter((function(r){return e[n][r]>=0}))})),a=t.map((function(r,n){for(var e=[n],a=[n];a.length;){var u=a.pop(),i=rt(o[u],e);e=e.concat(i),a=a.concat(i)}return e.length===t.length})),{array:e.filter((function(r,n){return a[n]})).map((function(r){return r.filter((function(r,n){return a[n]}))})),candidates:t.filter((function(r,n){return a[n]}))}),i=Yi(u.array).map((function(r){return Math.max(0,r)})),c=i.reduce((function(r,n){return r+n}),0),f=i.map((function(r){return r/c}));return r.candidates.filter((function(r){return!u.candidates.includes(r)})).reduce((function(r,n){var t;return xi(((t={})[n]=0,t),r)}),pu(u.candidates,f))},nc={type:wi.MaximalLotteries,computeFromMatrix:function(r){return rc(Qi(r))}},tc={type:wi.Minimax,computeFromMatrix:function(r){var n={};return r.candidates.forEach((function(t,e){n[t]=-Math.max.apply(Math,r.array[e].map((function(n,t){return r.array[t][e]-n})))})),n}},ec={type:wi.Nanson,computeFromBallots:function(r,n){for(var t={},e=n,o=0,a=function(){for(var n=Ii.computeFromBallots(r,e),a=Object.values(n),u=ki(a)/a.length,i=e.filter((function(r){return n[r]<=u})),c=o+1,f=0,l=i;f<l.length;f++){var s=l[f],v=o+n[s]+1;t[s]=v,v>c&&(c=v)}e=rt(e,i),o=c};e.length>0;)a();return t}},oc=function(){function r(){this.vertices=[]}return r.prototype.contains=function(r){for(var n in this.vertices)if(this.vertices[n].equals(r))return!0;return!1},r}(),ac=function(){function r(r){this.index=0,this.stack=new oc,this.graph=r}return r.prototype.run=function(){for(var r in this.graph)this.graph[r].index<0&&this.strongconnect(this.graph[r])},r.prototype.strongconnect=function(r){for(var n in r.index=this.index,r.lowlink=this.index,this.index=this.index+1,this.stack.vertices.push(r),r.connections){var t=r;(o=r.connections[n]).index<0?(this.strongconnect(o),t.lowlink=Math.min(t.lowlink,o.lowlink)):this.stack.contains(o)&&(t.lowlink=Math.min(t.lowlink,o.index))}if(r.lowlink==r.index){var e=[],o=null;if(this.stack.vertices.length>0)do{(o=this.stack.vertices.pop())&&e.push(o)}while(o&&!r.equals(o))}},r}(),uc=function(){function r(r){this.connections=[],this.name=r,this.index=-1,this.lowlink=-1}return r.prototype.equals=function(r){return this.name==r.name},r.prototype.connect=function(r){this.connections.push(r)},r}(),ic={type:wi.RankedPairs,computeFromMatrix:function(r){var n=r.array.flatMap((function(r,n){return r.map((function(r,t){return r>0&&t!==n?{from:n,to:t,value:r}:null})).filter(Boolean)})),t=Ou(n,"value"),e=Object.keys(t).sort((function(r,n){return Number(n)-Number(r)})).map((function(r){return t[r]})).reduce((function(r,n){return function(r,n){var t=Ai(r,n),e={};return iu(t.flatMap((function(r){return[r.from,r.to]}))).forEach((function(r){return e[r]=new uc(r)})),t.forEach((function(r){return e[r.from].connect(e[r.to])})),new ac(Object.values(e)).run(),Ai(r,n.filter((function(r){return e[r.from].lowlink!==e[r.to].lowlink})))}(r,n)}),[]),o=si(r.candidates.length).filter((function(r,n){return!e.some((function(r){return r.to===n}))})).reduce((function(r,n){return r[n]=(r[n]||0)+1,r}),{}),a=Math.max.apply(Math,Object.values(o)),u=si(r.candidates.length).filter((function(r){return o[r]===a}));if(u.length===r.candidates.length)return pu(r.candidates,Array(r.candidates.length).fill(1));var i=ic.computeFromMatrix({array:r.array.filter((function(r,n){return!u.includes(n)})).map((function(r){return r.filter((function(r,n){return!u.includes(n)}))})),candidates:r.candidates.filter((function(r,n){return!u.includes(n)}))}),c=Math.max.apply(Math,Object.values(i));return u.reduce((function(n,t){var e;return xi(xi({},n),((e={})[r.candidates[t]]=c+1,e))}),i)}},cc={type:wi.RandomizedCondorcet,computeFromMatrix:function(r){var n=Qi(r),t=xi(xi({},n),{array:n.array.map((function(r){return r.map(Math.sign)}))});return rc(t)}},fc={type:wi.Schulze,computeFromMatrix:function(r){for(var n=r.candidates.length,t=si(n).map((function(){return si(n).map((function(){return 0}))})),e=0;e<n;e++)for(var o=0;o<n;o++)e!==o&&(r.array[e][o]>r.array[o][e]?t[e][o]=r.array[e][o]:t[e][o]=0);for(e=0;e<n;e++)for(o=0;o<n;o++)if(e!==o)for(var a=0;a<n;a++)e!==a&&o!==a&&(t[o][a]=Math.max(t[o][a],Math.min(t[o][e],t[e][a])));var u={};return r.candidates.forEach((function(r,n){return u[r]=t[n].filter((function(r,e){return r>t[e][n]})).length})),u}},lc={type:wi.TwoRoundRunoff,computeFromBallots:function(r,n){var t=$i.computeFromBallots(r,n);if(n.length<3)return t;var e=Object.values(t).sort((function(r,n){return n-r})),o=n.filter((function(r){return t[r]>=e[1]})),a=Si(r,o),u=$i.computeFromBallots(a,o);return xi(xi({},t),u)}},sc=((Mi={})[wi.Approbation]=Ti,Mi[wi.Baldwin]=Li,Mi[wi.Borda]=Ii,Mi[wi.Coombs]=Ki,Mi[wi.Copeland]=Ui,Mi[wi.FirstPastThePost]=$i,Mi[wi.InstantRunoff]=Wi,Mi[wi.Kemeny]=Hi,Mi[wi.MaximalLotteries]=nc,Mi[wi.Minimax]=tc,Mi[wi.Nanson]=ec,Mi[wi.RankedPairs]=ic,Mi[wi.RandomizedCondorcet]=cc,Mi[wi.Schulze]=fc,Mi[wi.TwoRoundRunoff]=lc,Mi),vc=Object.freeze({__proto__:null,normalizeRanking:zi,normalizeBallot:Pi,normalizeBallots:Si,groupBallots:function(r){return r.reduce((function(r,n){var t=r.findIndex((function(r){return Fi(r.ranking,n.ranking)}));return-1===t?Ai(r,[n]):r.map((function(r,e){return e===t?xi(xi({},r),{weight:r.weight+n.weight}):r}))}),[]).filter((function(r){return 0!==r.weight}))},candidatesFromBallots:Ri,normalizeRankInput:function(r){return r.map((function(r){return"string"==typeof r?[r]:r}))},toWeightedBallots:function(r){return r.reduce((function(r,n){var t=r.findIndex((function(r){return Fi(r.ranking,n)}));return-1===t?Ai(r,[{ranking:n,weight:1}]):r.map((function(n,e){return e===t?{ranking:r[t].ranking,weight:r[t].weight+1}:n}))}),[])},removeInvalidCandidates:Ei,removeDuplicatedCandidates:Bi,checkDuplicatedCandidate:function(r){r.reduce((function(r,n){var t=Ha(r,n);if(t.length)throw Error("Some candidates are present multiple times: "+t);return Ai(r,n)}),[])},matrixFromBallots:Ji,scoresToRanking:Di,makeAntisymetric:Qi,scoresFromBallots:function(r,n,t){var e=sc[t];return"computeFromBallots"in e?e.computeFromBallots(r,n):e.computeFromMatrix(Ji(r,n))}});const hc={fpp:"First Past The Post",irv:"Instant Runoff",rkp:"Ranked Pairs",bdc:"Borda",shz:"Schulze"};window.ranktextarea=(r,n,t)=>{(n=n.split("\n")).forEach(((r,t)=>{n[t]=r.split(",")})),n.forEach(((r,t)=>{r.forEach(((r,e)=>{n[t][e]=[r.trim()]}))})),ballot=[],n.forEach((r=>ballot.push({ranking:r,weight:1}))),(r=r.split(",")).forEach(((n,t)=>{r[t]=n.trim()}));const e=vc.scoresFromBallots(ballot,r,wi[hc[t].replace(/ /g,"")]);return{scores:e,ranking:vc.scoresToRanking(e),method:hc[t]}};const pc={cands:"Memphis,Nashville,Knoxville,Chattanooga",tally:{m:"Memphis,Nashville,Chattanooga,Knoxville\n",n:"Nashville,Chattanooga,Knoxville,Memphis\n",k:"Knoxville,Chattanooga,Nashville,Memphis\n",c:"Chattanooga,Knoxville,Nashville,Memphis\n"}};window.example=()=>({cands:pc.cands,tally:(pc.tally.m.repeat(42)+pc.tally.n.repeat(26)+pc.tally.k.repeat(17)+pc.tally.c.repeat(15)).slice(0,-1)})}();
//# sourceMappingURL=index.c665e5e9.js.map
